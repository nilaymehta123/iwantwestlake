var vcGridStyleLazy=null;!function(t){t.waypoints("extendFn","vc_grid-infinite",function(i){var e,n,s=this;return n=t.extend({},t.fn.waypoint.defaults,{container:"auto",items:".infinite-item",offset:"bottom-in-view",handle:{load:function(){}}},i),e="auto"===n.container?s:t(n.container,s),n.handler=function(i){var e;("down"===i||"right"===i)&&(e=t(this),e.waypoint("destroy"),n.handle.load.call(this,n))},this.waypoint(n)}),vcGridStyleLazy=function(i){this.grid=i,this.settings=i.settings,this.$el=!1,this.filterValue=null,this.$content=!1,this.isLoading=!1,this.$loader=t('<div class="vc_grid-loading"></div>'),this.init()},vcGridStyleLazy.prototype.setIsLoading=function(){this.$content.append(this.$loader),this.isLoading=!0},vcGridStyleLazy.prototype.unsetIsLoading=function(){this.isLoading=!1,this.$loader&&this.$loader.remove()},vcGridStyleLazy.prototype.init=function(){_.bindAll(this,"addItems","showItems")},vcGridStyleLazy.prototype.render=function(){this.$el=this.grid.$el,this.$content=this.$el,this.setIsLoading(),this.grid.ajax({},this.addItems)},vcGridStyleLazy.prototype.showItems=function(){var t=this.$content.find(".vc_grid_filter-item:not(.vc_visible-item):lt("+this.settings.items_per_page+")");this.setIsLoading(),t.addClass("vc_visible-item "+vcGridSettings.addItemsAnimation+" animated"),this.unsetIsLoading(),jQuery(window).trigger("grid:items:added",this.$el)},vcGridStyleLazy.prototype.filter=function(t){return t=_.isUndefined(t)||"*"===t?"":t,this.filterValue==t?!1:(this.$content.find(".vc_visible-item, .vc_grid_filter-item").removeClass("vc_visible-item vc_grid_filter-item "+("none"!=vcGridSettings.addItemsAnimation?vcGridSettings.addItemsAnimation+" animated":"")),this.filterValue=t,this.$content.find(".vc_grid-item"+this.filterValue).addClass("vc_grid_filter-item"),_.defer(this.showItems),void this.initScroll())},vcGridStyleLazy.prototype.addItems=function(i){var e=t(i);this.$el.append(e),this.unsetIsLoading(),this.$content=e.find('[data-vc-grid-content="true"]'),this.grid.initFilter(),this.filter(),window.vc_prettyPhoto()},vcGridStyleLazy.prototype.initScroll=function(){var t=this;this.$content.unbind("waypoint").waypoint("vc_grid-infinite",{container:"auto",items:".vc_grid-item",handle:{load:function(i){t.showItems(),t.checkNext(i)}}})},vcGridStyleLazy.prototype.checkNext=function(t){if(this.$content.find('.vc_grid_filter-item:not(".vc_visible-item")').length){var i,e=this;i=function(){return e.$content.waypoint(t)},_.defer(i)}}}(window.jQuery);