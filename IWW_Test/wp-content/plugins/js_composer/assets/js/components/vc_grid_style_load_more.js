var vcGridStyleLoadMore=null;!function(t){vcGridStyleLoadMore=function(i){this.grid=i,this.settings=i.settings,this.$loadMoreBtn=!1,this.$el=!1,this.filterValue=null,this.$content=!1,this.isLoading=!1,this.$loader=t('<div class="vc_grid-loading"></div>'),this.init()},vcGridStyleLoadMore.prototype.setIsLoading=function(){this.$loadMoreBtn&&this.$loadMoreBtn.hide(),this.isLoading=!0},vcGridStyleLoadMore.prototype.unsetIsLoading=function(){this.isLoading=!1,this.setLoadMoreBtn()},vcGridStyleLoadMore.prototype.init=function(){_.bindAll(this,"addItems")},vcGridStyleLoadMore.prototype.render=function(){this.$el=this.grid.$el,this.$content=this.$el,this.setIsLoading(),this.$content.append(this.$loader),this.grid.ajax({},this.addItems)},vcGridStyleLoadMore.prototype.showItems=function(){var t=this.$content.find(".vc_grid_filter-item:not(.vc_visible-item):lt("+this.settings.items_per_page+")");this.setIsLoading(),t.addClass("vc_visible-item "+vcGridSettings.addItemsAnimation+" animated"),this.unsetIsLoading(),jQuery(window).trigger("grid:items:added",this.$el)},vcGridStyleLoadMore.prototype.filter=function(t){return t=_.isUndefined(t)||"*"===t?"":t,this.filterValue==t?!1:(this.$content.find(".vc_visible-item, .vc_grid_filter-item").removeClass("vc_visible-item vc_grid_filter-item "+("none"!=vcGridSettings.addItemsAnimation?vcGridSettings.addItemsAnimation+" animated":"")),this.filterValue=t,this.$content.find(".vc_grid-item"+this.filterValue).addClass("vc_grid_filter-item"),void this.showItems())},vcGridStyleLoadMore.prototype.addItems=function(i){var e=t(i);this.$el.append(e),this.unsetIsLoading(),this.$content=e.find('[data-vc-grid-content="true"]'),this.$loadMoreBtn=e.find('[data-vc-grid-load-more-btn="true"] .vc_btn');var o=this;this.$loadMoreBtn.click(function(t){t.preventDefault(),o.showItems()}),this.$loadMoreBtn.hide(),this.grid.initFilter(),this.filter(),this.$loader.remove(),window.vc_prettyPhoto()},vcGridStyleLoadMore.prototype.setLoadMoreBtn=function(){t('.vc_grid_filter-item:not(".vc_visible-item")',this.$content).length&&t(".vc_grid_filter-item",this.$content).length?this.$loadMoreBtn&&this.$loadMoreBtn.show():this.$loadMoreBtn&&this.$loadMoreBtn.hide()}}(window.jQuery);