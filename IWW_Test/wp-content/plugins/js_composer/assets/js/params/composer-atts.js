if(_.isUndefined(window.vc))var vc={};window.vc.filters={templates:[]},window.vc.addTemplateFilter=function(t){_.isFunction(t)&&this.filters.templates.push(t)},function(t){var e,n,a;e=function(e,n){t(".tabs_controls a[href=#tab-"+t(n).val()+"]").text(t(".wpb-edit-form [name=title].wpb_vc_param_value").val())},n=function(e,n){var a=e.prev();a.find("a").text(t(n).val())},window.init_textarea_html=function(e){var n,i,s,o;n=t("#wp-link"),n.parent().hasClass("wp-dialog")&&n.wpdialog("destroy"),i=e.attr("id"),s=e.closest(".edit_form_line"),o=s.find(".vc_textarea_html_content");try{_.isUndefined(tinyMCEPreInit.qtInit[i])&&(window.tinyMCEPreInit.qtInit[i]=_.extend({},window.tinyMCEPreInit.qtInit[window.wpActiveEditor],{id:i})),window.tinyMCEPreInit&&window.tinyMCEPreInit.mceInit[window.wpActiveEditor]&&(window.tinyMCEPreInit.mceInit[i]=_.extend({},window.tinyMCEPreInit.mceInit[window.wpActiveEditor],{resize:"vertical",height:200,id:i,setup:function(t){"undefined"!=typeof t.on?t.on("init",function(t){t.target.focus(),window.wpActiveEditor=i}):t.onInit.add(function(t){t.focus(),window.wpActiveEditor=i})}}),window.tinyMCEPreInit.mceInit[i].plugins=window.tinyMCEPreInit.mceInit[i].plugins.replace(/,?wpfullscreen/,""),window.tinyMCEPreInit.mceInit[i].wp_autoresize_on=!1),e.val(o.val()),quicktags(window.tinyMCEPreInit.qtInit[i]),QTags._buttonsInit(),window.tinymce&&(window.switchEditors&&window.switchEditors.go(i,"tmce"),"4"===tinymce.majorVersion&&tinymce.execCommand("mceAddEditor",!0,i)),a=i,window.wpActiveEditor=i}catch(l){e.data("vcTinyMceDisabled",!0).appendTo(s),t("#wp-"+i+"-wrap").remove(),console&&console.error&&(console.error("VC: Tinymce error! Compatibility problem with other plugins."),console.error(l))}},Color.prototype.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var t=parseInt(this._color,10).toString(16);if(this.error)return"";if(t.length<6)for(var e=6-t.length-1;e>=0;e--)t="0"+t;return"#"+t};var i={evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g};vc.loop_partial=function(e,n,a,s){var o=_.isObject(a)&&!_.isUndefined(a[n])?a[n]:"";return _.template(t("#_vcl-"+e).html(),{name:n,data:o,settings:s},i)},vc.loop_field_not_hidden=function(t,e){return!(_.isObject(e[t])&&_.isBoolean(e[t].hidden)&&e[t].hidden===!0)},vc.is_locked=function(t){return _.isObject(t)&&_.isBoolean(t.locked)&&t.locked===!0};var s=function(e,n){this.el=e,this.$el=t(this.el),this.$el_wrap="",this.$block="",this.suggester="",this.selected_items=[],this.options=_.isObject(n)?n:{},_.defaults(this.options,{css_class:"vc_suggester",limit:!1,source:{},predefined:[],locked:!1,select_callback:function(){},remove_callback:function(){},update_callback:function(){},check_locked_callback:function(){return!1}}),this.init()};s.prototype={constructor:s,init:function(){_.bindAll(this,"buildSource","itemSelected","labelClick","setFocus","resize");this.$el.wrap('<ul class="'+this.options.css_class+'"><li class="input"/></ul>'),this.$el_wrap=this.$el.parent(),this.$block=this.$el_wrap.closest("ul").append(t('<li class="clear"/>')),this.$el.focus(this.resize).blur(function(){t(this).parent().width(170),t(this).val("")}),this.$block.click(this.setFocus),this.suggester=this.$el.data("suggest"),this.$el.autocomplete({source:this.buildSource,select:this.itemSelected,minLength:2,focus:function(){return!1}}).data("ui-autocomplete")._renderItem=function(e,n){return t('<li data-value="'+n.value+'">').append("<a>"+n.name+"</a>").appendTo(e)},this.$el.autocomplete("widget").addClass("vc_ui-front"),_.isArray(this.options.predefined)&&_.each(this.options.predefined,function(t){this.create(t)},this)},resize:function(){var t=this.$el_wrap.position(),e=this.$block.position();this.$el_wrap.width(parseFloat(this.$block.width())-(parseFloat(t.left)-parseFloat(e.left)+4))},setFocus:function(e){e.preventDefault();var n=t(e.target);n.hasClass(this.options.css_class)&&this.$el.trigger("focus")},itemSelected:function(t,e){return this.$el.blur(),this.create(e.item),this.$el.focus(),!1},create:function(e){var n,a=this.selected_items.push(e)-1,i=this.options.check_locked_callback(this.$el,e)===!0?"":' <a class="remove">&times;</a>',s="";_.isUndefined(this.selected_items[a].action)&&(this.selected_items[a].action="+"),s="-"===this.selected_items[a].action?" exclude":" include",n=t('<li class="vc_suggest-label'+s+'" data-index="'+a+'" data-value="'+e.value+'"><span class="label">'+e.name+"</span>"+i+"</li>"),n.insertBefore(this.$el_wrap),_.isEmpty(i)||n.click(this.labelClick),this.options.select_callback(n,this.selected_items)},labelClick:function(e){e.preventDefault();var n=t(e.currentTarget),a=parseInt(n.data("index"),10),i=t(e.target);return i.is(".remove")?(delete this.selected_items[a],this.options.remove_callback(n,this.selected_items),n.remove(),!1):(this.selected_items[a].action="+"===this.selected_items[a].action?"-":"+","+"==this.selected_items[a].action?n.removeClass("exclude").addClass("include"):n.removeClass("include").addClass("exclude"),void this.options.update_callback(n,this.selected_items))},buildSource:function(e,n){var a=_.map(this.selected_items,function(t){return t.value}).join(",");t.ajax({type:"POST",dataType:"json",url:window.ajaxurl,data:{action:"wpb_get_loop_suggestion",field:this.suggester,exclude:a,query:e.term}}).done(function(t){n(t)})}},t.fn.suggester=function(e){return this.each(function(){{var n=t(this),a=n.data("suggester");_.isObject(e)?e:{}}a||n.data("suggester",a=new s(this,e)),"string"==typeof e&&a[e]()})};var o=Backbone.View.extend({className:"loop_params_holder",events:{"click input, select":"save","change input, select":"save","change :checkbox[data-input]":"updateCheckbox"},query_options:{},return_array:{},controller:"",initialize:function(){_.bindAll(this,"save","updateSuggestion","suggestionLocked")},render:function(e){var n=_.template(t("#vcl-loop-frame").html(),this.model,_.extend({},i,{variable:"loop"}));return this.controller=e,this.$el.html(n),this.controller.$el.append(this.$el),_.each(t("[data-suggest]"),function(e){var n=t(e),a=window.decodeURIComponent(t("[data-suggest-prefill="+n.data("suggest")+"]").val());n.suggester({predefined:t.parseJSON(a),select_callback:this.updateSuggestion,update_callback:this.updateSuggestion,remove_callback:this.updateSuggestion,check_locked_callback:this.suggestionLocked})},this),this},show:function(){this.$el.slideDown()},save:function(){this.return_array={},_.each(this.model,function(t,e){var t=this.getValue(e,t);_.isString(t)&&!_.isEmpty(t)&&(this.return_array[e]=t)},this),this.controller.setInputValue(this.return_array)},getValue:function(e){var n=t("[name="+e+"]",this.$el).val();return n},hide:function(){this.$el.slideUp()},toggle:function(){this.$el.is(":animated")||this.$el.slideToggle()},updateCheckbox:function(e){var n=t(e.currentTarget),a=n.data("input"),i=t("[data-name="+a+"]",this.$el),s=[];t("[data-input="+a+"]:checked").each(function(){s.push(t(this).val())}),i.val(s),this.save()},updateSuggestion:function(t,e){var n,a=t.closest("[data-block=suggestion]");n=_.reduce(e,function(t,e){return _.isEmpty(e)?void 0:t+(_.isEmpty(t)?"":",")+("-"===e.action?"-":"")+e.value},""),a.find("[data-suggest-value]").val(n).trigger("change")},suggestionLocked:function(t,e){var n=e.value,a=t.closest("[data-block=suggestion]").find("[data-suggest-value]").data("suggest-value");return this.controller.settings[a]&&_.isBoolean(this.controller.settings[a].locked)&&1==this.controller.settings[a].locked&&_.isString(this.controller.settings[a].value)&&_.indexOf(this.controller.settings[a].value.replace("-","").split(/\,/),""+n)>=0}}),l=Backbone.View.extend({events:{"click .vc_loop-build":"showEditor"},initialize:function(){_.bindAll(this,"createEditor"),this.$input=t(".wpb_vc_param_value",this.$el),this.$button=this.$el.find(".vc_loop-build"),this.data=this.$input.val(),this.settings=t.parseJSON(window.decodeURIComponent(this.$button.data("settings")))},render:function(){return this},showEditor:function(e){return e.preventDefault(),_.isObject(this.loop_editor_view)?(this.loop_editor_view.toggle(),!1):void t.ajax({type:"POST",dataType:"json",url:window.ajaxurl,data:{action:"wpb_get_loop_settings",value:this.data,settings:this.settings,post_id:vc.post_id}}).done(this.createEditor)},createEditor:function(t){this.loop_editor_view=new o({model:_.isEmpty(t)?{}:t}),this.loop_editor_view.render(this).show()},setInputValue:function(t){this.$input.val(_.map(t,function(t,e){return e+":"+t}).join("|"))}}),r=Backbone.View.extend({events:{"click .vc_options-edit":"showEditor","click .vc_close-button":"showEditor","click input, select":"save","change input, select":"save","keyup input":"save"},data:{},fields:{},initialize:function(){this.$button=this.$el.find(".vc_options-edit"),this.$form=this.$el.find(".vc_options-fields"),this.$input=this.$el.find(".wpb_vc_param_value"),this.settings=this.$form.data("settings"),this.parseData(),this.render()},render:function(){var e="";return _.each(this.settings,function(n){_.isUndefined(this.data[n.name])?_.isUndefined(n.value)||(n.value=n.value.toString().split(","),this.data[n.name]=n.value):n.value=this.data[n.name],this.fields[n.name]=n;var a=t("#vcl-options-field-"+n.type);a.is("script")&&(e+=_.template(a.html(),t.extend({name:"",label:"",value:[],options:"",description:""},n),_.extend({},i)))},this),this.$form.html(e+this.$form.html()),this},parseData:function(){_.each(this.$input.val().split("|"),function(t){if(t.match(/\:/)){var e=t.split(":"),n=e[0],a=e[1];this.data[n]=_.map(a.split(","),function(t){return window.decodeURIComponent(t)})}},this)},saveData:function(){var t=_.map(this.data,function(t,e){return e+":"+_.map(t,function(t){return window.encodeURIComponent(t)}).join(",")}).join("|");this.$input.val(t)},showEditor:function(){this.$form.slideToggle()},save:function(e){var n=t(e.currentTarget);if(n.is(":checkbox")){var a=[];this.$el.find("input[name="+n.attr("name")+"]").each(function(){t(this).is(":checked")&&a.push(t(this).val())}),this.data[n.attr("name")]=a}else this.data[n.attr("name")]=[n.val()];this.saveData()}}),c=function(e){this.el=e,this.$el=t(this.el),this.$data_field=this.$el.find(".wpb_vc_param_value"),this.$toolbar=this.$el.find(".vc_sorted-list-toolbar"),this.$current_control=this.$el.find(".vc_sorted-list-container"),_.defaults(this.options,{}),this.init()};c.prototype={constructor:c,init:function(){_.bindAll(this,"controlEvent","save"),this.$toolbar.on("change","input",this.controlEvent);var t=this.$data_field.val().split(",");for(var e in t){var n=t[e].split("|"),a=n.length?this.$toolbar.find("[data-element="+decodeURIComponent(n[0])+"]"):!1;a!==!1&&a.is("input")&&(a.prop("checked",!0),this.createControl({value:a.val(),label:a.parent().text(),sub:a.data("subcontrol"),sub_value:_.map(n.slice(1),function(t){return window.decodeURIComponent(t)})}))}this.$current_control.sortable({stop:this.save}).on("change","select",this.save)},createControl:function(t){var e="",n=_.isUndefined(t.sub_value)?[]:t.sub_value;_.isArray(t.sub)&&_.each(t.sub,function(t,a){e+=" <select>",_.each(t,function(t){e+='<option value="'+t[0]+'"'+(_.isString(n[a])&&n[a]===t[0]?' selected="true"':"")+">"+t[1]+"</option>"}),e+="</select>"},this),this.$current_control.append('<li class="vc_control-'+t.value+'" data-name="'+t.value+'">'+t.label+e+"</li>")},controlEvent:function(e){var n=t(e.currentTarget);n.is(":checked")?this.createControl({value:n.val(),label:n.parent().text(),sub:n.data("subcontrol")}):this.$current_control.find(".vc_control-"+n.val()).remove(),this.save()},save:function(){var e=_.map(this.$current_control.find("[data-name]"),function(e){var n=encodeURIComponent(t(e).data("name"));return t(e).find("select").each(function(){var e=t(this);e.is("select")&&""!==e.val()&&(n+="|"+encodeURIComponent(e.val()))}),n}).join(",");this.$data_field.val(e)}},t.fn.VcSortedList=function(e){return this.each(function(){{var n=t(this),a=n.data("vc_sorted_list");_.isObject(e)?e:{}}a||n.data("vc_sorted_list",a=new c(this,e)),"string"==typeof e&&a[e]()})};{var d=Backbone.View.extend({preview_el:".vc_google_fonts_form_field-preview-container > span",font_family_dropdown_el:".vc_google_fonts_form_field-font_family-container > select",font_style_dropdown_el:".vc_google_fonts_form_field-font_style-container > select",font_style_dropdown_el_container:".vc_google_fonts_form_field-font_style-container",status_el:".vc_google_fonts_form_field-status-container > span",events:{"change .vc_google_fonts_form_field-font_family-container > select":"fontFamilyDropdownChange","change .vc_google_fonts_form_field-font_style-container > select":"fontStyleDropdownChange"},initialize:function(){_.bindAll(this,"previewElementInactive","previewElementActive","previewElementLoading"),this.$preview_el=t(this.preview_el,this.$el),this.$font_family_dropdown_el=t(this.font_family_dropdown_el,this.$el),this.$font_style_dropdown_el=t(this.font_style_dropdown_el,this.$el),this.$font_style_dropdown_el_container=t(this.font_style_dropdown_el_container,this.$el),this.$status_el=t(this.status_el,this.$el),this.fontFamilyDropdownRender()},render:function(){return this},previewElementRender:function(){return this.$preview_el.css({"font-family":this.font_family,"font-style":this.font_style,"font-weight":this.font_weight}),this},previewElementInactive:function(){this.$status_el.text(window.i18nLocale.gfonts_loading_google_font_failed||"Loading google font failed.").css("color","#FF0000")},previewElementActive:function(){this.$preview_el.text("Grumpy wizards make toxic brew for the evil Queen and Jack.").css("color","inherit"),this.fontStyleDropdownRender()},previewElementLoading:function(){this.$preview_el.text(window.i18nLocale.gfonts_loading_google_font||"Loading Font...")},fontFamilyDropdownRender:function(){return this.fontFamilyDropdownChange(),this},fontFamilyDropdownChange:function(){var t=this.$font_family_dropdown_el.find(":selected");return this.font_family_url=t.val(),this.font_family=t.attr("data[font_family]"),this.font_types=t.attr("data[font_types]"),this.$font_style_dropdown_el_container.parent().hide(),this.font_family_url&&this.font_family_url.length>0&&WebFont.load({google:{families:[this.font_family_url]},inactive:this.previewElementInactive,active:this.previewElementActive,loading:this.previewElementLoading}),this},fontStyleDropdownRender:function(){var t=this.font_types,e=t.split(","),n="",a=this.$font_family_dropdown_el.attr("default[font_style]");for(var i in e){var s=e[i].split(":"),o="";_.isString(a)&&a.length>0&&e[i]==a&&(o='selected="selected"'),n=n+"<option "+o+' value="'+e[i]+'" data[font_weight]="'+s[1]+'" data[font_style]="'+s[2]+'" class="'+s[2]+"_"+s[1]+'" >'+s[0]+"</option>"}return this.$font_style_dropdown_el.html(n),this.$font_style_dropdown_el_container.parent().show(),this.fontStyleDropdownChange(),this},fontStyleDropdownChange:function(){var t=this.$font_style_dropdown_el.find(":selected");return this.font_weight=t.attr("data[font_weight]"),this.font_style=t.attr("data[font_style]"),this.previewElementRender(),this}}),p=Backbone.View.extend({min_length:2,delay:500,auto_focus:!0,ajax_url:window.ajaxurl,source_data:function(){return{}},replace_values_on_select:!1,initialize:function(e){_.bindAll(this,"sortableChange","resize","labelRemoveHook","updateItems","sortableCreate","sortableUpdate","source","select","labelRemoveClick","createBox","focus","response","change","close","open","create","search","_renderItem","_renderMenu","_renderItemData","_resizeMenu"),e=t.extend({min_length:this.min_length,delay:this.delay,auto_focus:this.auto_focus,replace_values_on_select:this.replace_values_on_select},e),this.options=e,this.param_name=this.options.param_name,this.$el=this.options.$el,this.$el_wrap=this.$el.parent(),this.$sortable_wrapper=this.$el_wrap.parent(),this.$input_param=this.options.$param_input,this.selected_items=[],this.isMultiple=!1,this.render()},resize:function(){var t=this.$el_wrap.position(),e=this.$block.position(),n=this.$el.autocomplete("widget");n.width(parseFloat(this.$block.width())-(parseFloat(t.left)-parseFloat(e.left)+4)+11)},enableMultiple:function(){this.isMultiple=!0,this.$el.show(),this.$el.focus()},enableSortable:function(){this.sortable=this.$sortable_wrapper.sortable({items:".vc_data",axis:"y",change:this.sortableChange,create:this.sortableCreate,update:this.sortableUpdate})},updateItems:function(){this.$input_param.val(this.selected_items.length?this.getSelectedItems().join(", "):"")},sortableChange:function(){},itemsCreate:function(){var t=[];this.$block.find(".vc_data").each(function(e,n){t.push({label:n.dataset.label,value:n.dataset.value})}),this.selected_items=t},sortableCreate:function(){},sortableUpdate:function(){var e=this.$sortable_wrapper.sortable("toArray",{attribute:"data-index"}),n=[];_.each(e,function(t){n.push(this.selected_items[t])},this);var a=0;t("li.vc_data",this.$sortable_wrapper).each(function(){t(this).attr("data-index",a++)}),this.selected_items=n,this.updateItems()},getWidget:function(){return this.$el.autocomplete("widget")},render:function(){if(this.$el.focus(this.resize),this.data=this.$el.autocomplete({source:this.source,minLength:this.options.min_length,delay:this.options.delay,autoFocus:this.options.auto_focus,select:this.select,focus:this.focus,response:this.response,change:this.change,close:this.close,open:this.open,create:this.create,search:this.search}),this.data.data("ui-autocomplete")._renderItem=this._renderItem,this.data.data("ui-autocomplete")._renderMenu=this._renderMenu,this.data.data("ui-autocomplete")._resizeMenu=this._resizeMenu,this.$input_param.val().length>0){this.isMultiple?this.$el.focus():this.$el.hide();var e=this;t(".vc_autocomplete-label.vc_data",this.$sortable_wrapper).each(function(){e.labelRemoveHook(t(this))})}return this.getWidget().addClass("vc_ui-front").addClass("vc_ui-auotocomplete"),this.$block=this.$el_wrap.closest("ul").append(t('<li class="clear"/>')),this.itemsCreate(),this},close:function(){this.selected&&this.options.no_hide&&(this.getWidget().show(),this.selected++,this.selected>2&&(this.selected=void 0))},open:function(){var t=this.getWidget().menu(),e=t.position();t.css("left",e.left-6),t.css("top",e.top+2)},focus:function(t){return this.options.replace_values_on_select?void 0:(t.preventDefault(),!1)},create:function(){},change:function(){},response:function(){},search:function(){},select:function(e,n){if(this.selected=1,n.item){if(this.options.unique_values){var a=this.getWidget().data("uiMenu").active;if(this.options.groups){var i=a.prev(),s=a.next();i.hasClass("vc_autocomplete-group")&&!s.hasClass("vc_autocomplete-item")&&i.remove()}a.remove();var o=this;t("li.ui-menu-item",this.getWidget()).length||(o.selected=void 0)}this.createBox(n.item),this.isMultiple?this.$el.focus():this.$el.hide()}return!1},createBox:function(e){var n,a=this.selected_items.push(e)-1,i='<a class="vc_autocomplete-remove">&times;</a>';this.updateItems(),n=t('<li class="vc_autocomplete-label vc_data" data-index="'+a+'" data-value="'+e.value+'" data-label="'+e.label+'"><span class="vc_autocomplete-label"><a>'+e.label+"</a></span>"+i+"</li>"),n.insertBefore(this.$el_wrap),this.labelRemoveHook(n)},labelRemoveHook:function(t){this.$el.blur(),this.$el.val(""),t.click(this.labelRemoveClick)},labelRemoveClick:function(e){e.preventDefault();var n=t(e.currentTarget),a=parseInt(n.data("index"),10),i=t(e.target);return i.is(".vc_autocomplete-remove")?(delete this.selected_items[a],n.remove(),this.updateItems(),this.$el.show(),!1):void 0},getSelectedItems:function(){if(this.selected_items.length){var t=[];return _.each(this.selected_items,function(e){t.push(e.value)}),t}return!1},_renderMenu:function(e,n){var a=this,i=null;this.options.groups&&n.sort(function(t,e){return t.group>e.group}),t.each(n,function(t,n){a.options.groups&&n.group!=i&&(i=n.group,e.append("<li class='ui-autocomplete-group vc_autocomplete-group' aria-label='"+i+"'>"+i+"</li>")),a._renderItemData(e,n)})},_renderItem:function(e,n){return t('<li data-value="'+n.value+'" class="vc_autocomplete-item">').append("<a>"+n.label+"</a>").appendTo(e)},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_resizeMenu:function(){},clearValue:function(){this.selected_items=[],this.updateItems(),t(".vc_autocomplete-label.vc_data",this.$sortable_wrapper).remove()},source:function(e,n){var a=this;this.options.values&&this.options.values.length>0?n(this.options.unique_values?t.ui.autocomplete.filter(_.difference(this.options.values,this.selected_items),e.term):t.ui.autocomplete.filter(this.options.values,e.term)):t.ajax({type:"POST",dataType:"json",url:this.ajax_url,data:t.extend({action:"vc_get_autocomplete_suggestion",shortcode:vc.active_panel.model.get("shortcode"),param:this.param_name,query:e.term},this.source_data(e,n))}).done(function(t){n(a.options.unique_values?_.filter(t,function(t){return!_.findWhere(a.selected_items,t)}):t)})}}),u=Backbone.View.extend({$content:{},initialize:function(){_.bindAll(this,"content"),this.$content=this.$el,this.model=vc.active_panel.model},setContent:function(t){this.$content=t},content:function(){return this.$content},render:function(){var e;return e=this,t(".vc_shortcode-param",this.content()).each(function(){var n,a;n={},a=t(this),n=a.data("param_settings"),vc.atts.init.call(e,n,a)}),this}}),h=Backbone.View.extend({options:{max_items:0,sortable:!0,deletable:!0,collapsible:!0},items:0,$ul:!1,initializer:{},mappedParams:{},adminLabelParams:[],groupParamName:"",events:{"click > .edit_form_line > .vc_param_group-list > .vc_param_group-add_content":"addNew"},initialize:function(e){var n,a,i;this.$ul=this.$el.find("> .edit_form_line > .vc_param_group-list"),n=t("> .wpb_vc_row",this.$ul),this.initializer=new u({el:this.$el}),this.model=vc.active_panel.model,a=this.$ul.data("settings"),this.mappedParams={},this.adminLabelParams=[],this.options=_.defaults({},_.isObject(e.settings)?e.settings:{},a,this.options),this.groupParamName=this.options.param.param_name,_.isObject(this.options.param)&&_.isArray(this.options.param.params)&&_.each(this.options.param.params,function(t){var e;e=this.groupParamName+"_"+t.param_name,this.mappedParams[e]=t,_.isObject(t)&&!0===t.admin_label&&this.adminLabelParams.push(e)},this),this.items=0,i=this,n.length&&n.each(function(){new m({el:t(this),parent:i}),i.items++,i.afterAdd(t(this),"init")}),this.options.sortable&&this.$ul.sortable({handle:".vc_control.column_move",items:"> .wpb_vc_row:not(vc_param_group-add_content-wrapper)",placeholder:"vc_placeholder"})},addNew:function(e){if(e.preventDefault(),this.addAllowed()){var n,a;if("undefined"!=typeof this.options.param.callbacks&&"undefined"!=typeof this.options.param.callbacks.before_add&&(a=window[this.options.param.callbacks.before_add],"function"==typeof a&&!a()))return;n=t(JSON.parse(this.$ul.next(".vc_param_group-template").html())),n.removeClass("vc_param_group-add_content-wrapper"),n.insertBefore(e.currentTarget),n.show(),this.initializer.setContent(n.find("> .wpb_element_wrapper")),this.initializer.render(),this.items++,new m({el:n,parent:this}),this.afterAdd(n,"new")}},addAllowed:function(){return this.options.max_items>0&&this.items+1<=this.options.max_items||this.options.max_items<=0},afterAdd:function(t,e){var n;this.addAllowed()||(this.$ul.find("> .wpb_vc_row > .vc_param_group-controls > .vc_row_edit_clone_delete > .vc_control.column_clone").hide(),this.$ul.find("> .vc_param_group-add_content").hide()),this.options.sortable||this.$ul.find("> .wpb_vc_row > .vc_param_group-controls > .vc_control.column_move").hide(),this.options.deletable||this.$ul.find("> .wpb_vc_row > .vc_param_group-controls > .vc_row_edit_clone_delete > .vc_control.column_delete").hide(),this.options.collapsible||this.$ul.find("> .wpb_vc_row > .vc_param_group-controls > .vc_row_edit_clone_delete > .vc_control.column_toggle").hide(),"undefined"!=typeof this.options.param.callbacks&&"undefined"!=typeof this.options.param.callbacks.after_add&&(n=window[this.options.param.callbacks.after_add],"function"==typeof n&&n(t,e))},afterDelete:function(){var t;this.addAllowed()&&(this.$ul.find("> .wpb_vc_row > .vc_param_group-controls > .vc_row_edit_clone_delete > .vc_control.column_clone").show(),this.$ul.find("> .vc_param_group-add_content").show()),"undefined"!=typeof this.options.param.callbacks&&"undefined"!=typeof this.options.param.callbacks.after_delete&&(t=window[this.options.param.callbacks.after_delete],"function"==typeof t&&t())}}),m=Backbone.View.extend({dependentElements:!1,mappedParams:!1,groupParamName:"",adminLabelParams:[],events:{"click > .controls > .vc_row_edit_clone_delete > .vc_control.column_toggle":"toggle","click > .controls > .vc_row_edit_clone_delete > .vc_control.column_delete":"deleteParam","click > .controls > .vc_row_edit_clone_delete > .vc_control.column_clone":"clone"},initialize:function(t){this.options=t,this.$content=this.options.parent.$ul,this.model=vc.active_panel.model,this.mappedParams=this.options.parent.mappedParams,this.groupParamName=this.options.parent.groupParamName,this.adminLabelParams=this.options.parent.adminLabelParams,this.dependentElements={},_.bindAll(this,"hookDependent"),this.initializeDependency(),_.bindAll(this,"hookAdminLabel"),this.initializeAdminLabels()},initializeAdminLabels:function(){var e,n,a;for(a=this.hookAdminLabel,e=0;e<this.adminLabelParams.length;e++)n=t("[name="+this.adminLabelParams[e]+"].wpb_vc_param_value",this.$el),n.each(function(){var e=t(this);e.data("vc_admin_labels")||(e.data("vc_admin_labels",!0),e.bind("keyup change",a),a({currentTarget:this}))})},hookAdminLabel:function(e){var n,a,i,s,o,l,r,c,d;for(o="",l="",r=[],c=t(e.currentTarget),d=c.closest(".vc_param_group-wrapper"),a=c.closest(".vc_param").find(".vc_param-group-admin-labels"),n=0;n<this.adminLabelParams.length;n++){var p;i=this.adminLabelParams[n],c=d.find("[name="+i+"]"),p=c.closest(".vc_shortcode-param"),"undefined"!=typeof this.mappedParams[i]&&(o=this.mappedParams[i].heading),l=c.is("select")?c.find("option:selected").text():c.is("input:checkbox")?c.is(":checked")?c.val():"":c.val(),s={type:p.data("param_type"),param_name:p.data("param_name")},_.isObject(vc.atts[s.type])&&_.isFunction(vc.atts[s.type].render)&&(l=vc.atts[s.type].render.call(this,s,l)),""!==l&&r.push("<label>"+o+"</label>: "+l)}a.html(r.join(", ")).toggleClass("vc_hidden-label",!r.length)},initializeDependency:function(){var e;e={},_.each(this.mappedParams,function(n,a){if(_.isObject(n)&&_.isObject(n.dependency)&&_.isString(n.dependency.element)){var i,s;i=t("[name="+this.groupParamName+"_"+n.dependency.element+"].wpb_vc_param_value",this.$el),s=t("[name="+a+"].wpb_vc_param_value",this.$el),s.length&&_.each(i,function(a){var i;if(i=t(a),!i.data("dependentSet")){var o,l;o=i.attr("name"),l=n.dependency,_.isArray(this.dependentElements[o])||(this.dependentElements[o]=[]),this.dependentElements[o].push(s),i.attr("data-dependent-set","true"),i.bind("keyup change",this.hookDependent),e[o]||(e[o]=i),_.isString(l.callback)&&window[l.callback].call(this)}},this)}},this),_.each(e,function(t){this.hookDependent({currentTarget:t})},this)},hookDependent:function(e){var n,a,i,s,o;return n=t(e.currentTarget),a=n.closest(".vc_column"),s=this.dependentElements[n.attr("name")],o=n.is(":checkbox")?_.map(this.$el.find("[name="+n.attr("name")+"].wpb_vc_param_value:checked"),function(e){return t(e).val()}):n.val(),i=n.is(":checkbox")?!this.$el.find("[name="+n.attr("name")+"].wpb_vc_param_value:checked").length:!o.length,a.hasClass("vc_dependent-hidden")?_.each(s,function(e){var n=t.Event("change");n.extra_type="vcHookDependedParamGroup",e.closest(".vc_column").addClass("vc_dependent-hidden"),e.trigger(n)}):_.each(s,function(e){var n,a,s,l;a=e.attr("name"),s=_.isObject(this.mappedParams[a])&&_.isObject(this.mappedParams[a].dependency)?this.mappedParams[a].dependency:{},l=e.closest(".vc_column"),_.isBoolean(s.not_empty)&&!0===s.not_empty&&!i?l.removeClass("vc_dependent-hidden"):_.isBoolean(s.is_empty)&&!0===s.is_empty&&i?l.removeClass("vc_dependent-hidden"):s.value&&_.intersection(_.isArray(s.value)?s.value:[s.value],_.isArray(o)?o:[o]).length?l.removeClass("vc_dependent-hidden"):s.value_not_equal_to&&!_.intersection(_.isArray(s.value_not_equal_to)?s.value_not_equal_to:[s.value_not_equal_to],_.isArray(o)?o:[o]).length?l.removeClass("vc_dependent-hidden"):l.addClass("vc_dependent-hidden"),n=t.Event("change"),n.extra_type="vcHookDependedParamGroup",e.trigger(n)},this),this},deleteParam:function(t){_.isObject(t)&&t.preventDefault&&t.preventDefault();var e=confirm(window.i18nLocale.press_ok_to_delete_section);!0===e&&(this.options.parent.items--,this.options.parent.afterDelete(),this.$el.remove(),this.unbind(),this.remove())},content:function(){return this.$content},clone:function(e){if(e.preventDefault(),this.options.parent.addAllowed()){var n=this.options.parent.$ul.data("settings"),a=this.$content;this.$content=this.$el;var i=vc.atts.param_group.parseOne.call(this,n);t.ajax({type:"POST",url:window.ajaxurl,data:{action:"vc_param_group_clone",param:encodeURIComponent(JSON.stringify(n)),shortcode:vc.active_panel.model.get("shortcode"),value:i,vc_inline:!0},dataType:"html",context:this}).done(function(e){var n;n=t(e),n.insertAfter(this.$el),this.$content=a,this.options.parent.initializer.$content=t("> .wpb_element_wrapper",n),this.options.parent.initializer.render(),new m({el:n,parent:this.options.parent}),this.options.parent.items++,this.options.parent.afterAdd(n,"clone")})}},toggle:function(t){t.preventDefault();var e=this.$el,n=e.find("> .wpb_element_wrapper");n.slideToggle(),e.toggleClass("vc_param_group-collapsed").siblings(":not(.vc_param_group-collapsed)").addClass("vc_param_group-collapsed").find("> .wpb_element_wrapper").slideUp()}});window.i18nLocale}vc.edit_form_callbacks=[],vc.atts={parse:function(t){var e,n=this.content().find(".wpb_vc_param_value[name="+t.param_name+"]");if(e=_.isUndefined(vc.atts[t.type])||_.isUndefined(vc.atts[t.type].parse)?n.length?n.val():null:vc.atts[t.type].parse.call(this,t),void 0!==n.data("js-function")&&"undefined"!=typeof window[n.data("js-function")]){var a=window[n.data("js-function")];a(this.$el,this,t)}return e},parseFrame:function(t){var e,n=this.content().find(".wpb_vc_param_value[name="+t.param_name+"]");if(e=_.isUndefined(vc.atts[t.type])||_.isUndefined(vc.atts[t.type].parse)?n.length?n.val():null:vc.atts[t.type].parse.call(this,t),void 0!==n.data("js-function")&&"undefined"!=typeof window[n.data("js-function")]){var a=window[n.data("js-function")];a(this.$el,this,t)}return e},init:function(t,e){_.isUndefined(vc.atts[t.type])||_.isUndefined(vc.atts[t.type].init)||vc.atts[t.type].init.call(this,t,e)}},vc.atts.textarea_html={parse:function(t){var e=this.window(),n=this.content().find(".textarea_html."+t.param_name);try{e.tinyMCE&&_.isArray(e.tinyMCE.editors)&&_.each(e.tinyMCE.editors,function(t){"wpb_tinymce_content"===t.id&&t.save()})}catch(a){console&&console.error&&console.error(a)}return n.val()},render:function(t,e){return _.isUndefined(e)?e:vc_wpautop(e)}},vc.atts.textarea_safe={parse:function(t){var e=this.content().find(".wpb_vc_param_value[name="+t.param_name+"]"),n=e.val();return n.match(/"/)?"#E-8_"+base64_encode(rawurlencode(n)):n},render:function(e,n){return n&&n.match(/^#E\-8_/)?t("<div/>").text(rawurldecode(base64_decode(n.replace(/^#E\-8_/,"")))).html():n}},vc.atts.checkbox={parse:function(e){var n,a;return n=[],a="",t("input[name="+e.param_name+"]",this.content()).each(function(){var e;e=t(this),e.is(":checked")&&n.push(e.attr("value"))}),0<n.length&&(a=n.join(",")),a},defaults:function(){return""}},vc.atts.el_id={clone:function(t,e,n){var a;a=t.get("params"),a[n.param_name]=_.isUndefined(n)||_.isUndefined(n.settings)||_.isUndefined(n.settings.auto_generate)||!0!==n.settings.auto_generate?"":+new Date+"-"+vc_guid(),t.set({params:a},{silent:!0})},create:function(t,e,n){if(t.get("cloned"))return vc.atts.el_id.clone(t,e,n);
if(_.isEmpty(e)&&!_.isUndefined(n)&&!_.isUndefined(n.settings)&&!_.isUndefined(n.settings.auto_generate)&&1==n.settings.auto_generate){var a;a=t.get("params"),a[n.param_name]=+new Date+"-"+vc_guid(),t.set({params:a},{silent:!0})}}},vc.events.on("shortcodes:add:param:type:el_id",vc.atts.el_id.create),vc.atts.posttypes={parse:function(e){var n=[],a="";return t("input[name="+e.param_name+"]",this.content()).each(function(){var e=t(this);e.is(":checked")&&n.push(e.attr("value"))}),n.length>0&&(a=n.join(",")),a}},vc.atts.taxonomies={parse:function(e){var n=[],a="";return t("input[name="+e.param_name+"]",this.content()).each(function(){var e=t(this);e.is(":checked")&&n.push(e.attr("value"))}),n.length>0&&(a=n.join(",")),a}},vc.atts.exploded_textarea={parse:function(t){var e=this.content().find(".wpb_vc_param_value[name="+t.param_name+"]");return e.val().replace(/\n/g,",")}},vc.atts.textarea_raw_html={parse:function(t){var e=this.content().find(".wpb_vc_param_value[name="+t.param_name+"]"),n=e.val();return base64_encode(rawurlencode(n))},render:function(e,n){return t("<div/>").text(rawurldecode(base64_decode(n))).html()}},vc.atts.dropdown={render:function(t,e){return e},init:function(e,n){t(".wpb_vc_param_value.dropdown",n).change(function(){var e=t(this),n=e.find(":selected"),a=e.data("option"),i=n.length?n.attr("class").replace(/\s/g,"_"):"";void 0!=a&&e.removeClass(a),void 0!=i&&e.data("option",i)&&e.addClass(i)})},defaults:function(t){var e;return _.isArray(t.value)||_.isString(t.value)?_.isArray(t.value)?(e=t.value[0],_.isArray(e)&&e.length?e[0]:e):"":(e=_.values(t.value)[0],e.label?e.value:e)}},vc.atts.attach_images={parse:function(e){var n=this.content().find(".wpb_vc_param_value[name="+e.param_name+"]"),a="";return n.parent().find("li.added").each(function(){a+='<li><img src="'+t(this).find("img").attr("src")+'" alt=""></li>'}),t("[data-model-id="+this.model.id+"]").data("field-"+e.param_name+"-attach-images",a),n.length?n.val():null},render:function(e,n){var a=this.$el.find(".attachment-thumbnails[data-name="+e.param_name+"]"),i=this.$el.data("field-"+e.param_name+"-attach-images");return _.isUndefined(i)&&!_.isEmpty(n)?t.ajax({type:"POST",url:window.ajaxurl,data:{action:"wpb_gallery_html",content:n},dataType:"html",context:this}).done(function(t){vc.atts.attach_images.updateImages(a,t)}):_.isUndefined(i)||(this.$el.removeData("field-"+e.param_name+"-attach-images"),vc.atts.attach_images.updateImages(a,i)),n},updateImages:function(t,e){t.html(e),e.length?t.removeClass("image-exists").next().addClass("image-exists"):t.addClass("image-exists").next().removeClass("image-exists")}},vc.atts.href={parse:function(t){var e=this.content().find(".wpb_vc_param_value[name="+t.param_name+"]"),n="";return e.length&&"http://"!=e.val()&&(n=e.val()),n}},vc.atts.attach_image={parse:function(e){var n=this.content().find(".wpb_vc_param_value[name="+e.param_name+"]"),a="";return n.parent().find("li.added").length&&(a=n.parent().find("li.added img").attr("src")),t("[data-model-id="+this.model.id+"]").data("field-"+e.param_name+"-attach-image",a),n.length?n.val():null},render:function(e,n){var a=t("[data-model-id="+this.model.id+"]"),i=a.data("field-"+e.param_name+"-attach-image"),s=this.$el.find(".attachment-thumbnail[data-name="+e.param_name+"]");return _.isUndefined(i)&&!_.isEmpty(n)?t.ajax({type:"POST",url:window.ajaxurl,data:{action:"wpb_single_image_src",content:n},dataType:"html",context:this}).done(function(t){vc.atts.attach_image.updateImage(s,t)}):_.isUndefined(i)||(a.removeData("field-"+e.param_name+"-attach-image"),vc.atts.attach_image.updateImage(s,i)),n},updateImage:function(t,e){_.isEmpty(e)?(t.attr("src","").hide(),t.next().removeClass("image-exists").next().removeClass("image-exists")):(t.attr("src",e).show(),t.next().addClass("image-exists").next().addClass("image-exists"))}},vc.atts.google_fonts={parse:function(e){var n,a,i=this.content().find(".wpb_vc_param_value[name="+e.param_name+"]"),s=i.parent(),o={};return o.font_family=s.find(".vc_google_fonts_form_field-font_family-select > option:selected").val(),o.font_style=s.find(".vc_google_fonts_form_field-font_style-select > option:selected").val(),n=_.map(o,function(t,e){return _.isString(t)&&t.length>0?e+":"+encodeURIComponent(t):void 0}),a=t.grep(n,function(t){return _.isString(t)&&t.length>0}).join("|")},init:function(t,e){var n=e;n.length&&("undefined"!=typeof WebFont?new d({el:n}):n.find("> .edit_form_line").html(window.i18nLocale.gfonts_unable_to_load_google_fonts||"Unable to load Google Fonts"))}},vc.atts.font_container={parse:function(e){var n,a,i=this.content().find(".wpb_vc_param_value[name="+e.param_name+"]"),s=i.parent(),o={};return o.tag=s.find(".vc_font_container_form_field-tag-select > option:selected").val(),o.font_size=s.find(".vc_font_container_form_field-font_size-input").val(),o.text_align=s.find(".vc_font_container_form_field-text_align-select > option:selected").val(),o.font_family=s.find(".vc_font_container_form_field-font_family-select > option:selected").val(),o.color=s.find(".vc_font_container_form_field-color-input").val(),o.line_height=s.find(".vc_font_container_form_field-line_height-input").val(),o.font_style_italic=s.find(".vc_font_container_form_field-font_style-checkbox.italic").is(":checked")?"1":"",o.font_style_bold=s.find(".vc_font_container_form_field-font_style-checkbox.bold").is(":checked")?"1":"",n=_.map(o,function(t,e){return _.isString(t)&&t.length>0?e+":"+encodeURIComponent(t):void 0}),a=t.grep(n,function(t){return _.isString(t)&&t.length>0}).join("|")},init:function(t,e){vc.atts.colorpicker.init.call(this,t,e)}},vc.atts.param_group={parse:function(e){var n,a,i,s;return a=this.content(),i=a.find('.wpb_el_type_param_group.vc_shortcode-param[data-param_name="'+e.param_name+'"]'),s=i.find("> .edit_form_line > .vc_param_group-list"),n=vc.atts.param_group.extractValues.call(this,e,t('>.wpb_vc_row:not(".vc_param_group-add_content-wrapper")',s)),this.$content=a,encodeURIComponent(JSON.stringify(n))},extractValues:function(e,n){var a,i;return a=[],i=this,n.each(function(){var n;n={},i.$content=t(this),_.each(e.params,function(a){var s,o,l;s=t.extend({},a),o=s.param_name,s.param_name=e.param_name+"_"+o,l=vc.atts.parse.call(i,s),(l.length||s.save_always)&&(n[o]=l)}),a.push(n)}),a},parseOne:function(t){var e,n;return e=this.content(),n=vc.atts.param_group.extractValues.call(this,t,e),this.$content=e,encodeURIComponent(JSON.stringify(n))},init:function(t,e){new h({el:e,settings:{param:t}})}},vc.atts.colorpicker={init:function(e,n){var a=n;t(".vc_color-control",a).each(function(){var e,n,a=t(this),i=a.val().replace(/\s+/g,""),s=100;i.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)&&(s=100*parseFloat(i.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1])),a.wpColorPicker({clear:function(){e.val(100),n.val("100%")},change:_.debounce(function(){t(this).trigger("change")},500)}),t('<div class="vc_alpha-container"><label>Alpha: <output class="rangevalue">'+s+'%</output></label><input type="range" min="1" max="100" value="'+s+'" name="alpha" class="vc_alpha-field"></div>').appendTo(a.parents(".wp-picker-container:first").addClass("vc_color-picker").find(".iris-picker")),e=a.parents(".wp-picker-container:first").find(".vc_alpha-field"),n=a.parents(".wp-picker-container:first").find(".vc_alpha-container output"),e.bind("change keyup",function(){var t=parseFloat(e.val()),i=a.data("a8c-iris"),s=a.data("wp-wpColorPicker");n.val(e.val()+"%"),i._color._alpha=t/100,a.val(i._color.toString()),s.toggler.css({backgroundColor:a.val()})}).val(s).trigger("change")})}},vc.atts.autocomplete={init:function(e,n){var a=n;a.length&&a.each(function(){var e=t(".wpb_vc_param_value",this),n=e.attr("name"),a=t(".vc_auto_complete_param",this),i={};i=t.extend({$param_input:e,$el:a,param_name:n},e.data("settings"));var s=new p(i);i.multiple&&s.enableMultiple(),i.sortable&&s.enableSortable(),e.data("object",s)})}},vc.atts.loop={init:function(t,e){new l({el:e})}},vc.atts.vc_link={init:function(e,n){t(".vc_link-build",n).click(function(e){var n,a,i,s,o,l,r,c;e.preventDefault(),n=t(this).closest(".vc_link"),a=n.find(".wpb_vc_param_value"),i=n.find(".url-label"),s=n.find(".title-label"),o=a.data("json"),l=t("#wp-link-submit"),r=t('<input type="submit" name="vc_link-submit" id="vc_link-submit" class="button-primary" value="Set Link">'),l.hide(),t("#vc_link-submit").remove(),r.insertBefore(l),c=!window.wpLink&&t.fn.wpdialog&&t("#wp-link").length?{$link:!1,open:function(){this.$link=t("#wp-link").wpdialog({title:wpLinkL10n.title,width:480,height:"auto",modal:!0,dialogClass:"wp-dialog",zIndex:3e5})},close:function(){this.$link.wpdialog("close")}}:window.wpLink,c.open("content"),_.isString(o.url)&&(t("#wp-link-url").length?t("#wp-link-url").val(o.url):t("#url-field").val(o.url)),_.isString(o.title)&&(t("#wp-link-text").length?t("#wp-link-text").val(o.title):t("#link-title-field").val(o.title)),t("#wp-link-target").length?t("#wp-link-target").prop("checked",!_.isEmpty(o.target)):t("#link-target-checkbox").prop("checked",!_.isEmpty(o.target)),r.unbind("click.vcLink").bind("click.vcLink",function(e){e.preventDefault(),e.stopImmediatePropagation();var n={},o="";n.url=t("#wp-link-url").length?t("#wp-link-url").val():t("#url-field").val(),n.title=t("#wp-link-text").length?t("#wp-link-text").val():t("#link-title-field").val();var d=t(t("#wp-link-target").length?"#wp-link-target":"#link-target-checkbox");return n.target=d.is(":checked")?" _blank":"",o=_.map(n,function(t,e){return _.isString(t)&&t.length>0?e+":"+encodeURIComponent(t):void 0}).join("|"),a.val(o),a.data("json",n),i.html(n.url+n.target),s.html(n.title),c.close(),l.show(),r.unbind("click.vcLink"),r.remove(),t("#wp-link-cancel").unbind("click.vcLink"),window.wpLink.textarea="",d.attr("checked",!1),!1}),t("#wp-link-cancel").unbind("click.vcLink").bind("click.vcLink",function(e){e.preventDefault(),c.close(),r.unbind("click.vcLink"),r.remove(),t("#wp-link-cancel").unbind("click.vcLink"),window.wpLink.textarea=""})})}},vc.atts.sorted_list={init:function(e,n){t(".vc_sorted-list",n).VcSortedList()}},vc.atts.options={init:function(t,e){new r({el:e})}},vc.atts.iconpicker={change:function(t,e){var n=e.find(".vc-iconpicker");n.val(this.value),n.data("vc-no-check",!0),n.find('[value="'+this.value+'"]').attr("selected","selected"),n.data("vcFontIconPicker").loadIcons()},parse:function(t){var e=this.content().find(".wpb_vc_param_value[name="+t.param_name+"]"),n=e.parent(),a=n.find(".vc-iconpicker").val();return a},init:function(e,n){var a=n.find(".wpb_vc_param_value"),i=t.extend({iconsPerPage:100,iconDownClass:"fip-fa fa fa-arrow-down",iconUpClass:"fip-fa fa fa-arrow-up",iconLeftClass:"fip-fa fa fa-arrow-left",iconRightClass:"fip-fa fa fa-arrow-right",iconSearchClass:"fip-fa fa fa-search",iconCancelClass:"fip-fa fa fa-remove",iconBlockClass:"fip-fa"},a.data("settings"));n.find(".vc-iconpicker").vcFontIconPicker(i).on("change",function(){var e=t(this);e.data("vc-no-check")||a.data("vc-no-check",!0).val(this.value).trigger("change"),e.data("vc-no-check",!1)}),a.on("change",function(){a.data("vc-no-check")||vc.atts.iconpicker.change.call(this,e,n),a.data("vc-no-check",!1)})}},vc.atts.animation_style={init:function(e,n){var a=n,i=t(".wpb_vc_param_value[name="+e.param_name+"]",a);t('option[value="'+i.val()+'"]',a).attr("selected",!0);var s=function(e,n){t(e).removeClass().addClass(n+" animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t(this).removeClass().addClass("vc_param-animation-style-preview")})};t(".vc_param-animation-style-trigger",a).click(function(e){e.preventDefault();var n=t(".vc_param-animation-style",a).val();"none"!=n&&s(this.parentNode,"vc_param-animation-style-preview "+n)}),t(".vc_param-animation-style",a).change(function(){var e=t(this).val();if(i.val(e),"none"!=e){var n=t(".vc_param-animation-style-preview",a);s(n,"vc_param-animation-style-preview "+e)}})}},vc.atts.vc_grid_id={parse:function(){var t="vc_gid:"+(+new Date+"-"+this.model.get("id")+"-"+Math.floor(11*Math.random()));return t}},vc.atts.addShortcodeIdParam=function(t){var e,n;e=t.get("params"),n=vc.map[t.get("shortcode")],_.isArray(n.params)&&_.each(n.params,function(n){"tab_id"===n.type&&_.isEmpty(e[n.param_name])?e[n.param_name]=vc_guid()+"-"+Math.floor(11*Math.random()):"vc_grid_id"===n.type&&(e[n.param_name]=vc.atts.vc_grid_id.parse.call({model:t}))}),t.save("params",e,{silent:!0})},vc.getMapped=vc.memoizeWrapper(function(t){return vc.map[t]||{}})}(window.jQuery);